---
layout: post
title: å½“ä½ åœ¨æ‰§è¡Œgit pushçš„æ—¶å€™æ–­ç”µã€‚ã€‚
tags: git
---

### pushæ–­ç”µ

ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œgit pushæ–­ç”µäº†ã€‚ã€‚

> æ®ä½›ç»å…·ä½“è®°è½½ï¼Œä¸€å¼¹æŒ‡ä¸ºäºŒåç¬ï¼Œä¸€ç¬ä¸ºäºŒåå¿µï¼Œä¸€å¿µä¸ºäºŒåæ¯ï¼Œä¸€æ¯ä¸ºå…­ååˆ¹é‚£ï¼Œä¸€åˆ¹é‚£ä¸ºä¹ç™¾ç”Ÿç­ã€‚

åœ¨æ¥ç”µä¹‹å‰çš„è¿™ä¸€æ®µæ—¶é—´ï¼Œè„‘è¡¥äº†è®¡ç®—æœºåœ¨æ–­ç”µçš„`ä¸€åˆ¹é‚£`å¯èƒ½çš„ä¸€äº›æ“ä½œï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç‚¹ï¼š

- ä¿æŠ¤ç°åœºï¼›
- ç½‘ç»œæ–­å¼€ï¼Œæ— æ³•ä¸Šä¼ ï¼›
- ç£ç›˜è¯»å–å¤±è´¥ï¼Œæ— æ³•ä¸Šä¼ ï¼›
- ä¸Šä¼ äº†ä¸€éƒ¨åˆ†ï¼Œå¤±è´¥äº†ï¼Œè¿™æ˜¯æœ€è®¨åŒçš„ã€‚ã€‚

å®é™…ä¸Šæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ

æ¥ç”µåï¼Œåˆ°è¿œç¨‹ä»“åº“ä¸€çœ‹ï¼Œå‘ç°ç«Ÿç„¶pushæˆåŠŸå•¦~~
ä¹Ÿå°±æ˜¯è¯´åœ¨åœç”µæ—¶çš„é‚£ä¸ªpushæ“ä½œå·²ç»æˆåŠŸå®Œæˆï¼Œè¿œç¨‹ä»“åº“å·²æ›´æ–°ï¼Œç„¶è€Œï¼Œæœ¬åœ°ä»“åº“å´åäº†ã€‚ã€‚


### æœ¬åœ°ä»“åº“broken

ä½¿ç”¨git logæŸ¥çœ‹è®°å½•ï¼Œå‘ç°æŠ¥é”™ï¼š

```bash
$ git log
fatal: your current branch appears to be broken
```

**è€Œä¸”æ‰€æœ‰çš„æ–‡ä»¶çŠ¶æ€éƒ½å˜æˆäº†æ–°åˆ›å»ºï¼Œæ˜¾ç¤ºæœªåŠ å…¥ç‰ˆæœ¬æ§åˆ¶ã€‚ã€‚**

### è§£å†³æ–¹æ³•

1. æŸ¥çœ‹å½“å‰HEADè®°å½•

![2020-07-02-Git-00.png](https://github.com/heartsuit/heartsuit.github.io/raw/master/pictures/2020-07-02-Git-00.png)

é‡Œé¢å…¨æ˜¯0ï¼Œæ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯ä¸€ä¸ª`commit hash`ã€‚

2. æŸ¥çœ‹HEADæ—¥å¿—
åˆ°`.git\logs\refs\heads`ç›®å½•ä¸‹æŸ¥çœ‹å¯¹åº”åˆ†æ”¯çš„æ—¥å¿—æ–‡ä»¶

![2020-07-02-Git-head.png](https://github.com/heartsuit/heartsuit.github.io/raw/master/pictures/2020-07-02-Git-head.png)

æœ€ä¸‹æ–¹ä¸ºæœ€æ–°çš„commitè®°å½•ã€‚

3. æ¢å¤å½“å‰HEADè®°å½•

å¤åˆ¶HEADæ—¥å¿—çš„æœ€æ–°`commit hash`åˆ°å½“å‰HEADè®°å½•æ–‡ä»¶ï¼Œå³ä»`.git\logs\refs\heads`å¯¹åº”çš„åˆ†æ”¯æ–‡ä»¶ä¸­å¤åˆ¶æœ€æ–°`commit hash`åˆ°`.git\refs\heads\`å¯¹åº”çš„åˆ†æ”¯æ–‡ä»¶ä¸­

**Note: è¿™é‡Œæ˜¯ä½¿ç”¨`95e6e609580daa06748c660e68053108198fc3c1`è¦†ç›–é‚£ä¸€å †0ã€‚**

ä¿å­˜ä¹‹åï¼Œå¯ä»¥å‘ç°gitçš„æœ¬åœ°ä»“åº“éšå³æ¢å¤æ­£å¸¸ã€‚

### å¦‚ä½•å¤ç°

è¦å¤ç°è¿™ä¸ªé—®é¢˜ï¼Œå°å“¥å®Œå…¨ä¸å¿…è¦çœŸçš„åœ¨`git push`æ—¶å»æ–­å¼€ç”µæºï¼›
æ³¨æ„ä¸‹ä¹‹å‰çš„æ¢å¤æ“ä½œï¼Œå¯ä»¥å‘ç°ï¼Œç›´æ¥æŠŠ`.git\refs\heads\`ä¸‹å¯¹åº”åˆ†æ”¯æ–‡ä»¶å†…å®¹æ”¹äº†æˆ–è€…ç½®ç©ºï¼Œå°±èƒ½å¤Ÿçœ‹åˆ°æ‰€æœ‰çš„æ–‡ä»¶éƒ½æˆäº†newçš„ï¼Œè¡¨ç¤ºéœ€è¦åŠ å…¥ç‰ˆæœ¬æ§åˆ¶ã€‚ã€‚
ä¸ä¿¡ä½ è¯•è¯•ğŸ˜

### Reference

[https://stackoverflow.com/questions/33012869/broken-branch-in-git-fatal-your-current-branch-appears-to-be-broken](https://stackoverflow.com/questions/33012869/broken-branch-in-git-fatal-your-current-branch-appears-to-be-broken)

---

***If you have any questions or any bugs are found, please feel free to contact me.***

***Your comments and suggestions are welcome!***